(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))M(f);new MutationObserver(f=>{for(const E of f)if(E.type==="childList")for(const s of E.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&M(s)}).observe(document,{childList:!0,subtree:!0});function b(f){const E={};return f.integrity&&(E.integrity=f.integrity),f.referrerPolicy&&(E.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?E.credentials="include":f.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function M(f){if(f.ep)return;f.ep=!0;const E=b(f);fetch(f.href,E)}})();var _={},B;function G(){return B||(B=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.countMap=r.Random=r.phi=r.radiansPerDegree=r.degreesPerRadian=r.FULL_CIRCLE=r.FIGURE_SPACE=r.NON_BREAKING_SPACE=r.MIN_DATE=r.MAX_DATE=r.csvStringToArray=void 0,r.assertClass=a,r.assertNonNullable=b,r.sleep=M,r.testXml=f,r.parseXml=E,r.followPath=s,r.getAttribute=h,r.parseFloatX=C,r.parseIntX=w,r.parseTimeT=g,r.pickAny=L,r.pick=T,r.take=u,r.filterMap=o,r.makePromise=c,r.dateIsValid=m,r.angleBetween=p,r.positiveModulo=S,r.rotateArray=F,r.rectUnion=D,r.rectAddPoint=z,r.dateToFileName=W,r.lerp=J,r.assertFinite=Q,r.shuffleArray=K,r.zip=Y,r.count=Z,r.initializedArray=U,r.sum=x,r.makeLinear=ee,r.makeBoundedLinear=te,r.polarToRectangular=ne,r.permutations=q,r.gcd=$,r.lcm=re;function a(e,t,i="Assertion Failed."){const n=d=>{throw new Error(`${i}  Expected type:  ${t.name}.  Found type:  ${d}.`)};if(e===null)n("null");else if(typeof e!="object")n(typeof e);else if(!(e instanceof t))n(e.constructor.name);else return e;throw new Error("wtf")}function b(e){if(e==null)throw new Error("wtf");return e}function M(e){return new Promise(t=>{setTimeout(t,e)})}function f(e){const i=new DOMParser().parseFromString(e,"application/xml");for(const n of Array.from(i.querySelectorAll("parsererror")))if(n instanceof HTMLElement)return{error:n};return{parsed:i}}function E(e){if(e!==void 0){const{parsed:t}=f(e);return t?.documentElement}}function s(e,...t){for(const i of t){if(e===void 0)return;if(typeof i=="number")e=e.children[i];else{const n=e.getElementsByTagName(i);if(n.length!=1)return;e=n[0]}}return e}function h(e,t,...i){if(t=s(t,...i),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}function C(e){if(e==null)return;const t=+e;if(isFinite(t))return t}function w(e){const t=C(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}function g(e){if(typeof e=="string"&&(e=w(e)),e!=null&&!(e<=0))return new Date(e*1e3)}const y=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,i=[[]];let n;for(;n=t.exec(e);)n[1].length&&n[1]!==","&&i.push([]),i[i.length-1].push(n[2]!==void 0?n[2].replace(/""/g,'"'):n[3]);return i};r.csvStringToArray=y;function L(e){const t=e.values().next();if(!t.done)return t.value}function T(e){if(e.length==0)throw new Error("wtf");return e[Math.random()*e.length|0]}function u(e){if(e.length<1)throw new Error("wtf");const t=Math.random()*e.length|0;return e.splice(t,1)[0]}function o(e,t){const i=[];return e.forEach((n,d)=>{const l=t(n,d);l!==void 0&&i.push(l)}),i}function c(){let e,t;return{promise:new Promise((n,d)=>{e=n,t=d}),resolve:e,reject:t}}r.MAX_DATE=new Date(864e13),r.MIN_DATE=new Date(-864e13);function m(e){return isFinite(e.getTime())}r.NON_BREAKING_SPACE=" ",r.FIGURE_SPACE=" ",r.FULL_CIRCLE=2*Math.PI,r.degreesPerRadian=360/r.FULL_CIRCLE,r.radiansPerDegree=r.FULL_CIRCLE/360,r.phi=(1+Math.sqrt(5))/2;function p(e,t){const i=S(e,r.FULL_CIRCLE);let d=S(t,r.FULL_CIRCLE)-i;const l=r.FULL_CIRCLE/2;if(d>l?d-=r.FULL_CIRCLE:d<-l&&(d+=r.FULL_CIRCLE),Math.abs(d)>l)throw new Error("wtf");return d}function S(e,t){const i=e%t;return i<0?i+Math.abs(t):i}function F(e,t){if((t|0)!=t)throw new Error(`invalid input: ${t}`);return t=S(t,e.length),t==0?e:[...e.slice(t),...e.slice(0,t)]}class X{constructor(){throw new Error("wtf")}static sfc32(t,i,n,d){function l(){t|=0,i|=0,n|=0,d|=0;let I=(t+i|0)+d|0;return d=d+1|0,t=i^i>>>9,i=n+(n<<3)|0,n=n<<21|n>>>11,n=n+I|0,(I>>>0)/4294967296}const A=l;return Object.defineProperty(A,"currentSeed",{get(){return JSON.stringify([t,i,n,d])}}),A}static#e=42;static seedIsValid(t){try{return this.create(t),!0}catch{return!1}}static create(t=this.newSeed()){console.info(t);const i=JSON.parse(t);if(!(i instanceof Array))throw new Error("invalid input");if(i.length!=4)throw new Error("invalid input");const[n,d,l,A]=i;if(!(typeof n=="number"&&typeof d=="number"&&typeof l=="number"&&typeof A=="number"))throw new Error("invalid input");return this.sfc32(n,d,l,A)}static newSeed(){const t=[];return t.push(Date.now()|0),t.push(this.#e++|0),t.push(Math.random()*2**31|0),t.push(performance.now()*1e4|0),JSON.stringify(t)}static fromString(t){try{return this.create(t)}catch{return this.create(this.anyStringToSeed(t))}}static anyStringToSeed(t){function i(l,A){return(l<<A|l>>>32-A)>>>0}const n=[2654435769,608135816,2242054355,320440878];return new TextEncoder().encode(t).forEach(l=>{n[0]^=l,n[0]=i(n[0],3),n[1]^=l,n[1]=i(n[1],5),n[2]^=l,n[2]=i(n[2],7),n[3]^=l,n[3]=i(n[3],11)}),n[0]^=i(n[1],7),n[1]^=i(n[2],11),n[2]^=i(n[3],13),n[3]^=i(n[0],17),JSON.stringify(n)}static test(){const n=[this.create()];for(;n.length<=10;){for(let l=0;l<20;l++){const A=n.map(I=>I());for(let I=1;I<A.length;I++)if(A[I]!==A[0]){debugger;throw new Error("wtf")}}const d=T(n).currentSeed;n.forEach(l=>{if(l.currentSeed!=d){debugger;throw new Error("wtf")}}),n.push(this.create(d))}}}r.Random=X;function D(e,t){const i=Math.min(e.x,t.x),n=Math.min(e.y,t.y),d=Math.max(e.x+e.width,t.x+t.width),l=Math.max(e.y+e.height,t.y+t.height),A=d-i,I=l-n;return{x:i,y:n,width:A,height:I}}function z(e,t,i){return D(e,{x:t,y:i,width:0,height:0})}function W(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}function J(e,t,i){return e+(t-e)*i}function Q(...e){e.forEach(t=>{if(!Number.isFinite(t))throw new Error("wtf")})}function K(e){for(let t=e.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e}function*Y(...e){const t=e.map(i=>i[Symbol.iterator]());for(;;){const i=t.map(n=>n.next());if(i.some(({done:n})=>n))break;yield i.map(({value:n})=>n)}}function*Z(e=0,t=1/0,i=1){for(let n=e;n<t;n+=i)yield n}function U(e,t){const i=[];for(let n=0;n<e;n++)i.push(t(n));return i}r.countMap=U;function x(e){return e.reduce((t,i)=>t+i,0)}function ee(e,t,i,n){const d=(n-t)/(i-e);return function(l){return(l-e)*d+t}}function te(e,t,i,n){i<e&&([e,t,i,n]=[i,n,e,t]);const d=(n-t)/(i-e);return function(l){return l<=e?t:l>=i?n:(l-e)*d+t}}function ne(e,t){return{x:Math.cos(t)*e,y:Math.sin(t)*e}}function*q(e,t=[]){if(e.length==0)yield t;else for(let i=0;i<e.length;i++){const n=e[i],d=[...t,n],l=[...e.slice(0,i),...e.slice(i+1)];yield*q(l,d)}}function $(e,t){return t?$(t,e%t):e}function re(e,t){return e*t/$(e,t)}})(_)),_}var H=G(),v={},O;function ie(){if(O)return v;O=1,Object.defineProperty(v,"__esModule",{value:!0}),v.AnimationLoop=void 0,v.getById=a,v.selectorQueryAll=b,v.querySelectorAll=M,v.selectorQuery=f,v.querySelector=E,v.loadDateTimeLocal=s,v.getBlobFromCanvas=h,v.getAudioBalanceControl=C,v.getHashInfo=w,v.createElementFromHTML=g,v.download=y,v.getDataUrl=T;const r=G();function a(u,o){const c=document.getElementById(u);if(!c)throw new Error("Could not find element with id "+u+".  Expected type:  "+o.name);if(c instanceof o)return c;throw new Error("Element with id "+u+" has type "+c.constructor.name+".  Expected type:  "+o.name)}function b(u,o,c=1,m=1/0,p=document){const S=[];if(p.querySelectorAll(u).forEach(F=>{S.push((0,r.assertClass)(F,o))}),S.length<c||S.length>m)throw new Error(`Expecting "${u}" to return [${c} - ${m}] instances of ${o.name}, found ${S.length}.`);return S}function M(u,o,c=1,m=1/0,p=document){const S=[];if(p.querySelectorAll(u).forEach(F=>{S.push((0,r.assertClass)(F,o))}),S.length<c||S.length>m)throw new Error(`Expecting "${u}" to return [${c} - ${m}] instances of ${o.name}, found ${S.length}.`);return S}function f(u,o,c=document){return b(u,o,1,1,c)[0]}function E(u,o,c=document){return M(u,o,1,1,c)[0]}function s(u,o,c="milliseconds"){let m;switch(c){case"minutes":{m=o.getSeconds()*1e3+o.getMilliseconds();break}case"seconds":{m=o.getMilliseconds();break}case"milliseconds":{m=0;break}default:throw new Error("wtf")}u.valueAsNumber=+o-o.getTimezoneOffset()*6e4-m}function h(u){const{reject:o,resolve:c,promise:m}=(0,r.makePromise)();return u.toBlob(p=>{p?c(p):o(new Error("blob is null!"))}),m}function C(u){const o=new AudioContext,c=o.createMediaElementSource(u),m=new StereoPannerNode(o,{pan:0});return c.connect(m).connect(o.destination),p=>{m.pan.value=p}}function w(){const u=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(m=>{const p=m.split("=",2);if(p.length==2){const S=decodeURIComponent(p[0]),F=decodeURIComponent(p[1]);u.set(S,F)}}),u}function g(u,o){var c=document.createElement("div");return c.innerHTML=u.trim(),(0,r.assertClass)(c.firstChild,o,"createElementFromHTML:")}function y(u,o){var c=document.createElement("a");if(c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),c.setAttribute("download",u),document.createEvent){var m=document.createEvent("MouseEvents");m.initEvent("click",!0,!0),c.dispatchEvent(m)}else c.click()}class L{onWake;constructor(o){this.onWake=o,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#e=!1;cancel(){this.#e=!0}callback(o){this.#e||(requestAnimationFrame(this.callback),this.onWake(o))}}v.AnimationLoop=L;async function T(u){const o=document.createElement("img");o.src=u,await o.decode();const c=o.naturalHeight,m=o.naturalWidth;if(c==0||m==0)throw new Error("problem with image");const p=document.createElement("canvas");p.width=m,p.height=c;const S=p.getContext("2d");if(!S)throw new Error("wtf");return S.drawImage(o,0,0,p.width,p.height),p.toDataURL()}return v}var N=ie();function oe(r){N.querySelectorAll(".delete-me",HTMLDivElement,0).forEach(s=>{s.remove()});const a=document.createElement("div");a.classList.add("delete-me"),a.style.fontFamily="Roboto, monospace",a.style.padding="20px",a.style.background="#f0f0f0",a.style.borderRadius="8px",a.style.maxWidth="600px",a.style.margin="20px auto",a.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)";function b(s){const h=document.createElement("h3");h.textContent=s,h.style.margin="0 0 16px 0",h.style.textAlign="center",a.appendChild(h)}function M(s){const h=V(s,r),C=`#${s.toString(16).padStart(2,"0").repeat(3)}`,w=document.createElement("div");w.style.display="flex",w.style.marginBottom="8px",w.style.borderRadius="6px",w.style.overflow="hidden",w.style.boxShadow="0 1px 3px rgba(0,0,0,0.2)";const g=document.createElement("div");g.style.backgroundColor=C,g.style.width="50%",g.style.height="40px",g.style.display="flex",g.style.alignItems="center",g.style.justifyContent="center",g.style.color=s>128?"black":"white",g.style.fontSize="12px",g.style.fontWeight="bold",g.textContent=`${Math.round(s/255*100)}%`,w.appendChild(g);const y=document.createElement("div");y.style.backgroundColor=h,y.style.width="50%",y.style.height="40px",y.style.display="flex",y.style.alignItems="center",y.style.justifyContent="center",y.style.color=s>140?"black":"white",y.style.fontSize="12px",y.style.fontWeight="bold";const L=parseInt(h.slice(1,3),16),T=parseInt(h.slice(3,5),16),u=parseInt(h.slice(5,7),16);function o(c,m){const p=Math.round(m/255*100).toString();return`${H.FIGURE_SPACE.repeat(3-p.length)}${c} = ${p}%`}y.textContent=`${o("r",L)}, ${o("g",T)}, ${o("b",u)}`,w.appendChild(y),a.appendChild(w)}b("Smaller Palette");const f=5;for(let s=0;s<f;s++){const h=Math.round((s+.5)/f*255);M(h)}b("Larger Palette");const E=10;for(let s=0;s<E;s++){const h=Math.round(s/(E-1)*255);M(h)}document.body.appendChild(a)}function V(r,a){const b=Math.max(0,Math.min(255,r)),M=a.slice(1,3),f=a.slice(3,5),E=a.slice(5,7),s={r:parseInt(M,16),g:parseInt(f,16),b:parseInt(E,16)},h=.299*s.r+.587*s.g+.114*s.b,C={r:255,g:255,b:255};let w,g,y;if(Math.abs(b-h)<.01)w=s.r,g=s.g,y=s.b;else if(b>h){const L=(b-h)/(255-h);w=s.r+L*(C.r-s.r),g=s.g+L*(C.g-s.g),y=s.b+L*(C.b-s.b)}else{const L=b/h;w=L*s.r,g=L*s.g,y=L*s.b}return w=Math.round(w),g=Math.round(g),y=Math.round(y),`#${w.toString(16).padStart(2,"0")}${g.toString(16).padStart(2,"0")}${y.toString(16).padStart(2,"0")}`.toUpperCase()}function se(r,a,b,M){if(!(r instanceof SVGFEFuncRElement&&a instanceof SVGFEFuncGElement&&b instanceof SVGFEFuncBElement))throw console.error({feFuncR:r,feFuncG:a,feFuncB:b}),new Error("wtf");const f=[],E=[],s=[];for(const h of M){const C=parseInt(h.slice(1,3),16)/255,w=parseInt(h.slice(3,5),16)/255,g=parseInt(h.slice(5,7),16)/255;f.push(C),E.push(w),s.push(g)}r.setAttribute("type","discrete"),r.setAttribute("tableValues",f.join(" ")),a.setAttribute("type","discrete"),a.setAttribute("tableValues",E.join(" ")),b.setAttribute("type","discrete"),b.setAttribute("tableValues",s.join(" "))}const R=N.getById("convert",HTMLImageElement);R.addEventListener("click",()=>{R.style.transform==""?R.style.transform="rotateY(180deg)":R.style.transform=""});const ce=N.querySelector("feFuncR",SVGFEFuncRElement),ae=N.querySelector("feFuncG",SVGFEFuncGElement),le=N.querySelector("feFuncB",SVGFEFuncBElement);function ue(r,a){oe(r),se(ce,ae,le,H.initializedArray(a,b=>{const M=Math.floor((b+.5)/a*256);return V(M,r)}))}const j=N.querySelector('input[type="color"]',HTMLInputElement),k=N.querySelector('input[type="number"]',HTMLInputElement);function P(){const a=k.validity.valid&&k.value!=""?k.valueAsNumber:5;ue(j.value,a)}P();j.addEventListener("input",P);k.addEventListener("input",P);document.addEventListener("visibilitychange",function(){document.hidden||P()});window.addEventListener("pageshow",function(a){a.persisted&&P()});window.addEventListener("resume",()=>{P()});
